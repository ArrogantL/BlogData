# 2.1网络应用的体系结构

## 特点

由不同的部分构成，由网络连接组合应用场景

## 应采取什么结构

C/S结构 客户机/服务器

P2P

混合结构

### C/S结构 客户机/服务器

- 服务器
  - 持续提供服务
  - 永久性访问地址/域
  - 利用大量服务器实现可扩展性
- 客户机
  - 与服务器通信，使用服务器提供的服务
  - 间歇性接入网络
  - 可能使用动态IP地址
  - 客户机之间无通信能力

### P2P

点对点服务，去中心化体系结构。**纯P2P中，资源索引是维护在每个节点上的，查找信息时需要在网络中进行广播，查询被一层层节点扩散，直到查找到有效信息。**

- 描述
  - 没有永远在线的服务器
  - 任意端系统/节点之间可以直接通讯
  - 节点间歇性接入网络
  - 节点可能改变IP地址

### CS vs P2P

从服务及时、传输质量稳定、资源查找速度、管理成本、网络安全、客户端节点间交流能力、网络闲散资源利用率

- CS>P2P
  - CS更安全，隐私不容易泄露，因为客户机间不可见，客户机只能访问由服务器暴露的经其他客户机允许的其他客户机的信息，服务器能轻松的设置安全机制。P2P则不能，个人计算机安全等级较服务器来说低很多。可能带来垃圾信息或者匿名失效。
  - CS服务随时支持，P2P则需要提供服务的节点在线才行。
  - CS服务稳定，因为服务器通常是性能强大的设备群。而P2P受制于服务器节点，稳定性不可预见。
  - CS中心式结构便于集中管理资源以及客户端，P2P结构松散不便于管理资源。
  - CS文件查找速度快，P2P需要将查找命令在P2P网络中层层传播，比较慢
- P2P>CS
  - P2P能充分利用节点资源，提高限制资源利用率。CS无法充分利用客户机的能力。使得整个网络负担过多集中在服务器，客户机性能冗余。
  - P2P管理成本低，虽然难以有效管理但是去中心化的结构使得管理成本低。CS则要求中心服务器的管理软硬件要求高。
  - 结构自由。CS结构限制较大。
  - P2P网络分布广泛，能够大范围提供服务。C-S距离太远延迟高，每个服务器辐射的范围有限，需要采用分布式多服务器来提供服务。

### 混合结构

能否将两种结构混合在一起使用？
混合能够利用两者的优点同时规避两者的缺点吗？

目前的混合结构主要有2种：

- **中心化拓扑P2P**（例如Napster）
  - 文件传输使用P2P结构
  - 文件的搜索采用C/S结构——集中式
    - 每个节点向中央服务器登记自己的内容
    - 每个节点向中央服务器提交查询请求，查找感兴趣的内容
- **半分布式拓扑结构P2P**
  - 节点分成索引节点和普通节点，索引节点负责为临近普通节点提供服务。
  - 各个索引节点之间采用去中心化结构
- **全分布式结构化拓扑的P2P网络**主要是采用分布式散列表（Distributed Hash Table, 简写成DHT）技术来组织网络中的结点。DHT是一个由广域范围大量结点共同维护的巨大散列表。散列表被分割成不连续的块，每个结点被分配给一个属于自己的散列块，并成为这个散列块的管理者。通过加密散列函数，一个对象的名字或关键词被映射为128位或160位的散列值。
  - 即对目录进行了分割，使得目录被结构化组织

## 思考题目

为每种体系结构找出5种以上的网络应用：



从多个方面/角度对比三种体系结构的优缺点

